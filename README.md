# 🚇 Seoul-Subway-Traffic-Forecasting
> **서울시 지하철 역별 일별 이용량 예측 및 공휴일 효과 보정 분석**

본 프로젝트는 서울시 공공데이터를 활용하여 지하철역의 이용 패턴을 예측하고, 특히 예측 오차가 큰 공휴일 및 주말 복합 요인을 분석하여 모델의 성능을 고도화하는 과정을 담고 있습니다.

---

## 1. 프로젝트 배경 및 목적
* **배경:** 서울시 지하철의 출퇴근 시간대 혼잡 문제 해결 및 효율적인 교통 정책 수립을 위한 이용 패턴 분석의 필요성 증대
* **목적:** 2023~2024년 시계열 데이터를 기반으로 일별 이용량을 예측하여 도시계획 수립에 실용적인 인사이트 제공
* **분석 범위:** 수도권 지하철 총 이용량 상/중/하위 대표역 (강남, 성수, 오금) 선정 및 일별 예측 모델링

---

## 2. 기술 스택 및 데이터
* **기술 스택:** `Python`, `Meta Prophet`, `Pandas`, `Matplotlib`, `Scikit-learn`
* **데이터 출처:** [서울 열린데이터 광장](https://data.seoul.go.kr/dataList/OA-12921/F/1/datasetView.do)
    * 학습 데이터: 2023.01 ~ 2024.12 역별 시간대별 승하차 인원 정보
    * 검증 데이터: 2025.03.01 ~ 2025.03.31 수도권 지하철 일일 데이터

---

## 3. 분석 및 모델링 과정

### 01. 데이터 전처리 (Preprocessing)
* **데이터 통합:** 학습/검증 데이터의 컬럼명 및 데이터 타입 일치화
* **파생변수 생성:** 공휴일 여부를 나타내는 `all_holidays` 데이터프레임 생성 및 휴일 효과 반영
* **데이터 정제:** IQR(Interquartile Range) 기반 이상치 제거 및 결측치(`y`값이 null 또는 0) 처리
* **Format 변환:** Prophet 모델 형식에 맞춘 컬럼명(`ds`, `y`) 변환

### 02. 모델링 (Prophet Model)
* **모델 선택:** 추세(Trend), 계절성(Seasonality), 휴일 효과(Holiday Effects)를 반영할 수 있는 Facebook Prophet 사용
* **실행 프로세스:** 역별 데이터 필터링 → 모델 학습 → 미래 기간(2025.03) 데이터 생성 및 예측 실행

---

## 4. 성능 개선 및 결과 분석 (Troubleshooting)

### 초기 모델 성과 (Base Model)
* **R² (결정계수):** 0.9072
* **오차 분석:** 3월 1일(삼일절) 실제 이용량이 예측치보다 크게 나타나는 현상 발견
* **원인:** 2025년 3월 1일은 **공휴일인 동시에 토요일**로, 복합적인 요인이 작용했으나 초기 모델은 이를 독립적으로 처리하여 과소 추정함

### 모델 고도화 및 최종 성과 (Improved Model)
* **해결 방안:** 주말과 공휴일 효과를 분리하고 복합 요인을 학습할 수 있도록 파라미터 보정 및 데이터 보강
* **최종 지표:** **R² 0.9072 → 0.9865 (약 8.7% 성능 향상)** 🚀



---

## 5. 라이선스 및 데이터 출처

### 공공데이터 이용 안내
* **데이터 출처:** [서울 열린데이터 광장](https://data.seoul.go.kr/)
* **저작권 표시:** 본 프로젝트는 공공데이터의 이용 허락 조건(저작자 표시)을 준수합니다.

### Open Source License
* 본 프로젝트의 소스 코드는 **MIT License**를 따릅니다.
